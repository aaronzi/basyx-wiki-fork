@startuml component_interaction
!theme plain
skinparam backgroundColor white
skinparam defaultFontSize 12
skinparam defaultFontName Arial

skinparam participant {
    BackgroundColor #E3F2FD
    BorderColor #1976D2
    FontColor #000000
}

skinparam sequence {
    ArrowColor #1976D2
    LifeLineBorderColor #1976D2
    LifeLineBackgroundColor #F5F5F5
    ParticipantBorderColor #1976D2
    ParticipantBackgroundColor #E3F2FD
    ParticipantFontColor #000000
    ActorBorderColor #1976D2
    ActorBackgroundColor #E3F2FD
    ActorFontColor #000000
}

skinparam note {
    BackgroundColor #FFFDE7
    BorderColor #F57F17
    FontColor #000000
}

participant "MQTT Client" as Client
participant "Mosquitto Broker" as Broker
participant "BaSyx Databridge" as Bridge
participant "AAS Environment" as AAS
participant "Submodel" as SM
participant "Property" as Prop

Client -> Broker : Publish sensor data to topic
note over Broker : Topic: /sensors/temperature

Bridge -> Broker : Subscribe to MQTT topic
Broker -> Bridge : Forward message with sensor data

note over Bridge : Transform MQTT payload\nto AAS property format

Bridge -> AAS : HTTP PUT request
AAS -> SM : Update submodel
SM -> Prop : Set property value

note over Prop : Property value updated\nwith live sensor data

@enduml
